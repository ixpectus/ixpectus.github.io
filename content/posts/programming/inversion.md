---
title: "Заметки с курсов хекслета по javascript"
date: 2021-11-09T09:18:26+03:00
tags:
  - programming
  - inversion
  - hexlet
  - tagged data
summary: ""
---
# Инверсия зависимостей  
Зависимости передаются на вход в функцию или объект, в котором они необходимы. Помимо всего прочего это облегчит тестирование.  
Может быть так, что с точки зрения бизнес логики зависимость передавать и не надо, к примеру в может быть обращение к системной функции определения текущего времени.  
Но это может существенно затруднить написание тестов и можно передавать текущее время на вход функции.  

# Помеченные данные 
В курсе хекслет "Программирование, управляемое данными" на базе пар рассматривают разные вещи
## Помеченные данные
- На английском tagged data. Представим, что с точки зрения данных у нас есть только пары и в языке пока больше ничего нет. 
- Появляется задача как-то отделять одну пару от другой, то есть нужно какой-то тип паре дать.  
- Этот тип и даётся с помощью метки, есть учебная библиотека для этого https://www.npmjs.com/package/@hexlet/tagged-types
  ```
  import { attach, typeTag, contents } from '@hexlet/tagged-types';

  const data = 'text, pair, list or others';
  const tag = attach('typeOfTag', data);
  // ('typeOfTag', 'text, pair, list or others')

  typeTag(tag); // 'typeOfTag'
  contents(tag); // 'text, pair, list or others'
  ```
# Диспетчеризация 
Выбор действия в зависимости от каких-то условий

## Диспетчеризация по типу 

## Динамическая диспетчеризация 
- Способ реализации это создание в том или ином виде таблицы соответствия, часто её называют виртуальной таблицей

### Задачи виртуальной таблицы 
- Зарегистрировать новый тип, для того, чтобы к нему можно было обращаться
  - Для регистрации типа нужно знать  
    - Имя функции
    - Имя типа
    - Тело функции
- Найти нужную функцию
  - Для поиска нужной функции нужно 2 вещи
    - Имя типа
    - Имя функции

## Какую проблему решает диспетчеризация
- Есть несколько структур с одинаковым методом, например `GetValue()`
- Вызывающему их коду должно быть вообще не важно с какой из конкретных структур он будет иметь дело, важно только, что у неё есть `GetValue()`


## Мысли
- Если единственный способ расширить библиотеку это менять ее исходный код, то это плохая библиотека
- В курсе "Программирование, управляемое данными" Кирилл сначала предлагает реализовать диспетчеризацию своими руками, это очень круто
  - Это позволяет действительно понять и прочувствовать какая проблема решалась, откуда она возникла

## Мультиметоды 
