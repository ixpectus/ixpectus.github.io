---
title: "Websocket vs Http"
date: 2022-01-28T20:31:18+03:00
tags:
  - network
  - websocket
  - http
summary: "Когда стоит использовать http, а когда websocket"
---
## Сравнение http и websocket 
|Критерий|Websocket   |Http   |Пояснения|
|----------|----------|-----------|------------|
|Дуплексность|Дуплексный     |Полудуплексный       |То есть  websocket может одновременно и передавать и принимать данные, а http либо одно либо другое        |
|Модель взаимодействия|Запрос-ответ|Двунаправленный   |То есть в случае вебсокета сервер может по своей инициативе отправить сообщение клиенту|
|Особенности|При каждом http запросе передается больше данных|Данных передаётся меньше, но нужно держать пул коннектов для всех клиентов|Для вебсокета появляется проблема наличия состояния в виде большого количества соединений|
|Кэширование|Непонятно как сделать|Доступно из коробки, все браузеры легко могут кэшировать http ответы  ||

## Когда стоит использовать веб-сокеты 
- Когда происходит активный обмен небольшим объёмом данных между клиентом и сервером продолжительное временем
- Когда важно, чтобы клиент получал сообщения как можно быстрее
  - скорость обеспечивается за счет того, что существует постоянное соединение между клиентом и сервером и сервер может по своей инициативе послать данные
- Конкретные примеры, когда нужен websocket
  - мессенжеры
  - фондовые рынки
### В чём сложность 
- Держать поднятыми большое количество соединений
- Решать проблему того, что делать если сервер, который держит это кучу коннектов вдруг упадёт

## Когда стоит выбрать  
- Во всех остальных случаях
### В чём сложность 
- Всё просто, клиент отправил запрос, получил ответ
